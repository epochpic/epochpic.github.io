<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic 4.8.0"><meta name=description content="The ADF is a generalisation of EPOCH&rsquo;s classic distribution functions but using calculable particle properties to specify the axes of the distribution function and the value accumulated on the grid for that distribution function."><link rel=alternate hreflang=en-us href=/tutorial/input_deck_adf/><meta name=theme-color content="#3f51b5"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark disabled><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin=anonymous async></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap"><link rel=stylesheet href=/css/academic.css><link rel=manifest href=/index.webmanifest><link rel=icon type=image/png href=/images/icon_hucf2a1ead28adac6bbe3177e5d4e4a1f0_753_32x32_fill_lanczos_center_2.png><link rel=apple-touch-icon type=image/png href=/images/icon_hucf2a1ead28adac6bbe3177e5d4e4a1f0_753_192x192_fill_lanczos_center_2.png><link rel=canonical href=/tutorial/input_deck_adf/><meta property="twitter:card" content="summary"><meta property="og:site_name" content="EPOCH"><meta property="og:url" content="/tutorial/input_deck_adf/"><meta property="og:title" content=" | EPOCH"><meta property="og:description" content="The ADF is a generalisation of EPOCH&rsquo;s classic distribution functions but using calculable particle properties to specify the axes of the distribution function and the value accumulated on the grid for that distribution function."><meta property="og:image" content="/images/logo_hub4b4d6a0f57638acebb5550a80c8c030_9243_300x300_fit_lanczos_2.png"><meta property="twitter:image" content="/images/logo_hub4b4d6a0f57638acebb5550a80c8c030_9243_300x300_fit_lanczos_2.png"><meta property="og:locale" content="en-us"><title>| EPOCH</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/><img src=/images/logo_hub4b4d6a0f57638acebb5550a80c8c030_9243_0x70_resize_lanczos_2.png alt=EPOCH></a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/><img src=/images/logo_hub4b4d6a0f57638acebb5550a80c8c030_9243_0x70_resize_lanczos_2.png alt=EPOCH></a></div><div class="navbar-collapse main-menu-item collapse justify-content-end" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/#about><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/license><span>License</span></a></li><li class=nav-item><a class=nav-link href=/publication><span>Publications</span></a></li><li class=nav-item><a class=nav-link href=/contact><span>Contact</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=#><i class="fas fa-search" aria-hidden=true></i></a></li></ul></div></nav><div class="container-fluid docs"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 docs-sidebar"><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-3" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation">
<span><i class="fas fa-bars"></i></span></button>
<input name=q type=search class=form-control placeholder=Search... autocomplete=off></form><nav class="collapse docs-links" id=docs-nav><div class=docs-toc-item><a class=docs-toc-link href=/tutorial/>Overview</a></div><div class=docs-toc-item><a class=docs-toc-link href=/tutorial/acknowledging_epoch/>Content</a><ul class="nav docs-sidenav"><li><a href=/tutorial/acknowledging_epoch/>Acknowledging EPOCH</a></li><li><a href=/tutorial/basic_examples/>Basic examples</a></li><li><a href=/tutorial/binary_files/>Binary files</a></li><li><a href=/tutorial/calculable_particle_properties/>Calculable particle properties</a></li><li><a href=/tutorial/compiler_flags/>Compiler Flags</a></li><li><a href=/tutorial/compiling/>Compiling</a></li><li><a href=/tutorial/deck_example/>Deck example</a></li><li><a href=/tutorial/decktransclusiontest/>DeckTransclusionTest</a></li><li><a href=/tutorial/example_creator/>Example creator</a></li><li><a href=/tutorial/faq/>FAQ</a></li><li><a href=/tutorial/formattingexamples/>FormattingExamples</a></li><li><a href=/tutorial/hrtest/>HRtest</a></li><li class=active><a href=/tutorial/input_deck_adf/>Input deck adf</a></li><li><a href=/tutorial/input_deck_antenna/>Input deck antenna</a></li><li><a href=/tutorial/input_deck_boundaries/>Input deck boundaries</a></li><li><a href=/tutorial/input_deck_collisions/>Input deck collisions</a></li><li><a href=/tutorial/input_deck_constant/>Input deck constant</a></li><li><a href=/tutorial/input_deck_control/>Input deck control</a></li><li><a href=/tutorial/input_deck_dist_fn/>Input deck dist fn</a></li><li><a href=/tutorial/input_deck_field_operator/>Input deck field operator</a></li><li><a href=/tutorial/input_deck_fields/>Input deck fields</a></li><li><a href=/tutorial/input_deck_injector/>Input deck injector</a></li><li><a href=/tutorial/input_deck_laser/>Input deck laser</a></li><li><a href=/tutorial/input_deck/>Input deck</a></li><li><a href=/tutorial/input_deck_operator/>Input deck operator</a></li><li><a href=/tutorial/input_deck_output_block/>Input deck output block</a></li><li><a href=/tutorial/input_deck_output_global/>Input deck output global</a></li><li><a href=/tutorial/input_deck_particle_file/>Input deck particle file</a></li><li><a href=/tutorial/input_deck_pipeline/>Input deck pipeline</a></li><li><a href=/tutorial/input_deck_probe/>Input deck probe</a></li><li><a href=/tutorial/input_deck_qed/>Input deck qed</a></li><li><a href=/tutorial/input_deck_species/>Input deck species</a></li><li><a href=/tutorial/input_deck_subset/>Input deck subset</a></li><li><a href=/tutorial/input_deck_test_page/>Input deck test page</a></li><li><a href=/tutorial/input_deck_window/>Input deck window</a></li><li><a href=/tutorial/landing_page/>Landing Page</a></li><li><a href=/tutorial/libraries/>Libraries</a></li><li><a href=/tutorial/links/>Links</a></li><li><a href=/tutorial/maths_parser/>Maths parser</a></li><li><a href=/tutorial/non-thermal_initial_conditions/>Non-thermal initial conditions</a></li><li><a href=/tutorial/numerical_heating/>Numerical heating</a></li><li><a href=/tutorial/previous_versions/>Previous versions</a></li><li><a href=/tutorial/running/>Running</a></li><li><a href=/tutorial/sidebar/>Sidebar</a></li><li><a href=/tutorial/structure/>Structure</a></li><li><a href=/tutorial/an_example_problem/>An example problem</a></li><li><a href=/tutorial/landing/>Landing</a></li><li><a href=/tutorial/using_delta_f/>Using delta f</a></li><li><a href=/tutorial/using_epoch_in_practice/>Using EPOCH in practice</a></li><li><a href=/tutorial/workshop_examples_continued/>Workshop examples continued</a></li><li><a href=/tutorial/workshop_examples/>Workshop examples</a></li><li><a href=/tutorial/visualising_sdf_files_with_idl_or_gdl/>SDF:Visualising SDF files with IDL or GDL</a></li><li><a href=/tutorial/visualising_sdf_files_with_llnl_visit/>SDF:Visualising SDF files with LLNL VisIt</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=/tutorial/sdf_landing_page/>SDF</a><ul class="nav docs-sidenav"><li><a href=/tutorial/sdf_landing_page/>SDF:Landing Page</a></li></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>Contents</a></li></ul><nav id=TableOfContents></nav></div><main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role=main><article class=article><div class=docs-article-container><h1></h1><div class=article-style><p>The ADF is a generalisation of EPOCH&rsquo;s classic distribution functions
but using
<a href=/tutorial/calculable_particle_properties>calculable particle
properties</a> to specify
the axes of the distribution function and the value accumulated on the
grid for that distribution function.</p><h1 id=example_deck_block>Example deck block</h1><pre><code class=language-perl>begin:adf
   name= x_px_df
   height = dir_n
   accumulate_mode = sum
   direction=(dir_x, dir_px)
   resolution = (null, 100)
   range = ((0,1), (0,2e-22))
   use_weight = T
   use_shapes = T
end:adf
</code></pre><h1 id=name>Name</h1><p>The ADF must be named so that it can be referred to in pipeline blocks</p><h1 id=height>Height</h1><p>The &ldquo;height&rdquo; key is a calculable particle property that should be
accumulated on the grid</p><h1 id=accumulate_mode>Accumulate mode</h1><p>The &ldquo;accumulate_mode&rdquo; key is how the height should be accumulated on
the grid. Options are</p><ul><li>sum - Sum the value on the grid</li><li>average - Calculate the average value of the height in each cell</li><li>temperature - Ignore the height value and calculate the temperature
in each cell</li></ul><p>If this key is absent then sum is assumed</p><h1 id=direction>Direction</h1><p>The &ldquo;direction&rdquo; key specifies the calculable particle property for
each axis of the distribution function. You may specify up to 6 axes,
specifications for resolutions and ranges must be of the same length as
the direction specification</p><h1 id=resolution>Resolution</h1><p>The &ldquo;resolution&rdquo; key specifies the desired resolution for each axis of
the distribution function. The number of keys must match the number of
directions specified. The resolution is ignored for spatial dimensions
(but not resampled spatial dimensions) which must match the base grid
resolution</p><h1 id=range>Range</h1><p>The &ldquo;range&rdquo; key is a list of (lower_bound, upper_bound) pairs for
each axis of the ADF. There must be as many pairs as there are
directions. If this key is missing then the range is calculated at each
output to contain all particles in the source for the ADF</p><h1 id=use_weight>Use weight</h1><p>The &ldquo;use_weight&rdquo; keyword is used to specify whether or not the
particle weight should be used when accumulating the data for the ADF.
For &ldquo;height=dir_n&rdquo; this key being F means that you are calculating
the number of simulation particles in each cell of the ADF. It&rsquo;s
meaning is less clear for other accumulated heights. If this key is not
specified it is assumed to be T</p><h1 id=use_shape_function>Use shape function</h1><p>The &ldquo;use_shape&rdquo; keyword specified whether or not to use the shape
function when calculating spatial axes for distribution functions. If F
then all of a particle&rsquo;s property is deposited in the cell which
contain the particle&rsquo;s centre. This is comparable to the method used by
the EPOCH legacy distribution functions.</p></div><div class=article-widget><div class=post-nav><div class=post-nav-item><div class=meta-nav>Previous</div><a href=/tutorial/input_deck/ rel=next></a></div><div class=post-nav-item><div class=meta-nav>Next</div><a href=/tutorial/input_deck_antenna/ rel=prev></a></div></div></div></div><div class=body-footer><p>Last updated on Jan 1, 0001</p><p class=edit-page><a href=https://github.com/gcushen/hugo-academic/edit/master/content/tutorial/Input_deck_adf.md><i class="fas fa-pen pr-2"></i>Edit this page</a></p></div></article><footer class=site-footer><p class=powered-by>Powered by the
<a href=https://sourcethemes.com/academic/ target=_blank rel=noopener>Academic theme</a> for
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a>.</p></footer></main></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin=anonymous></script><script>const code_highlighting=!0</script><script>const isSiteThemeDark=!1</script><script>const search_config={indexURI:"/index.json",minLength:1,threshold:.3},i18n={no_results:"No results found",placeholder:"Search...",results:"results found"},content_type={post:"Posts",project:"Projects",publication:"Publications",talk:"Talks"}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin=anonymous></script><script>anchors.add()</script><script id=search-hit-fuse-template type=text/x-template>
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script><script src=/js/academic.min.6f1005d1a84220e2f466ff3d8e712f31.js></script><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i> Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i> Download</a><div id=modal-error></div></div></div></div></div></body></html>