<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic 4.8.0"><meta name=description content="Using IDL to visualise data The EPOCH distribution comes with procedures for loading and inspecting SDF self-describing data files. The IDL routines are held in the SDF/IDL/ directory. There is also a procedure named Start."><link rel=alternate hreflang=en-us href=/documentation/visualising_output/visualising_sdf_files_with_idl_or_gdl.html><meta name=theme-color content="#3f51b5"><script src=/js/mathjax-config.js></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark disabled><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin=anonymous async></script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js integrity crossorigin=anonymous async></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap"><link rel=stylesheet href=/css/academic.css><link rel=manifest href=/index.webmanifest><link rel=icon type=image/png href=/images/icon_hucf2a1ead28adac6bbe3177e5d4e4a1f0_753_32x32_fill_lanczos_center_2.png><link rel=apple-touch-icon type=image/png href=/images/icon_hucf2a1ead28adac6bbe3177e5d4e4a1f0_753_192x192_fill_lanczos_center_2.png><link rel=canonical href=/documentation/visualising_output/visualising_sdf_files_with_idl_or_gdl.html><meta property="twitter:card" content="summary"><meta property="og:site_name" content="EPOCH"><meta property="og:url" content="/documentation/visualising_output/visualising_sdf_files_with_idl_or_gdl.html"><meta property="og:title" content="IDL or GDL | EPOCH"><meta property="og:description" content="Using IDL to visualise data The EPOCH distribution comes with procedures for loading and inspecting SDF self-describing data files. The IDL routines are held in the SDF/IDL/ directory. There is also a procedure named Start."><meta property="og:image" content="/images/logo_hub4b4d6a0f57638acebb5550a80c8c030_9243_300x300_fit_lanczos_2.png"><meta property="twitter:image" content="/images/logo_hub4b4d6a0f57638acebb5550a80c8c030_9243_300x300_fit_lanczos_2.png"><meta property="og:locale" content="en-us"><meta property="article:modified_time" content="2021-06-22T23:35:45+01:00"><title>IDL or GDL | EPOCH</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/><img src=/images/logo_hub4b4d6a0f57638acebb5550a80c8c030_9243_0x70_resize_lanczos_2.png alt=EPOCH></a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/><img src=/images/logo_hub4b4d6a0f57638acebb5550a80c8c030_9243_0x70_resize_lanczos_2.png alt=EPOCH></a></div><div class="navbar-collapse main-menu-item collapse justify-content-end" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/#about><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/quickstart.html><span>Quick Start</span></a></li><li class=nav-item><a class=nav-link href=/documentation.html><span>Documentation</span></a></li><li class=nav-item><a class=nav-link href=/publication.html><span>Publications</span></a></li><li class=nav-item><a class=nav-link href=/license.html><span>License</span></a></li><li class=nav-item><a class=nav-link href=/contact.html><span>Contact</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=#><i class="fas fa-search" aria-hidden=true></i></a></li></ul></div></nav><div class="container-fluid docs"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 docs-sidebar"><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-3" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation">
<span><i class="fas fa-bars"></i></span></button>
<input name=q type=search class=form-control placeholder=Search... autocomplete=off></form><nav class="collapse docs-links" id=docs-nav><div class=docs-toc-item><a class=docs-toc-link href=/documentation.html>Overview</a></div><div class=docs-toc-item><a class=docs-toc-link href=/documentation/basic_usage.html>Basic usage</a><ul class="nav docs-sidenav"><li><a href=/documentation/basic_usage/faq.html>FAQs</a></li><li><a href=/documentation/basic_usage/structure.html>Structure</a></li><li><a href=/documentation/basic_usage/compiling.html>Compiling</a></li><li><a href=/documentation/basic_usage/compiler_flags.html>Compiler Flags</a></li><li><a href=/documentation/basic_usage/running.html>Running</a></li><li><a href=/documentation/basic_usage/acknowledging_epoch.html>Acknowledging EPOCH</a></li><li><a href=/documentation/basic_usage/libraries.html>Libraries</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=/documentation/input_deck/input_deck.html>Input deck</a><ul class="nav docs-sidenav"><li><a href=/documentation/input_deck/input_deck_bremsstrahlung.html>bremsstrahlung block</a></li><li><a href=/documentation/input_deck/input_deck_control.html>control block</a></li><li><a href=/documentation/input_deck/input_deck_boundaries.html>boundaries block</a></li><li><a href=/documentation/input_deck/input_deck_species.html>species block</a></li><li><a href=/documentation/input_deck/input_deck_laser.html>laser block</a></li><li><a href=/documentation/input_deck/input_deck_fields.html>fields block</a></li><li><a href=/documentation/input_deck/input_deck_window.html>window block</a></li><li><a href=/documentation/input_deck/input_deck_output_block.html>output block</a></li><li><a href=/documentation/input_deck/input_deck_output_global.html>output_global block</a></li><li><a href=/documentation/input_deck/input_deck_dist_fn.html>dist_fn block</a></li><li><a href=/documentation/input_deck/input_deck_probe.html>probe block</a></li><li><a href=/documentation/input_deck/input_deck_collisions.html>collisions block</a></li><li><a href=/documentation/input_deck/input_deck_qed.html>qed block</a></li><li><a href=/documentation/input_deck/input_deck_subset.html>subset block</a></li><li><a href=/documentation/input_deck/input_deck_constant.html>constant block</a></li><li><a href=/documentation/input_deck/input_deck_injector.html>injector block</a></li><li><a href=/documentation/input_deck/input_deck_antenna.html>Input deck antenna</a></li><li><a href=/documentation/input_deck/input_deck_particle_file.html>Input deck particle file</a></li><li><a href=/documentation/input_deck/binary_files.html>Binary files</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=/documentation/code_details.html>Code details</a><ul class="nav docs-sidenav"><li><a href=/documentation/code_details/maths_parser.html>Maths parser</a></li><li><a href=/documentation/code_details/using_epoch_in_practice.html>Using EPOCH in practice</a></li><li><a href=/documentation/code_details/using_delta_f.html>Using delta f</a></li><li><a href=/documentation/code_details/previous_versions.html>Previous versions</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=/documentation/visualising_output.html>Visualising output</a><ul class="nav docs-sidenav"><li class=active><a href=/documentation/visualising_output/visualising_sdf_files_with_idl_or_gdl.html>IDL or GDL</a></li><li><a href=/documentation/visualising_output/visualising_sdf_files_with_llnl_visit.html>LLNL VisIt</a></li><li><a href=/documentation/visualising_output/python.html>Python</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=/documentation/examples.html>Examples</a><ul class="nav docs-sidenav"><li><a href=/documentation/examples/basic_examples.html>Basic examples</a></li><li><a href=/documentation/examples/workshop_examples.html>Workshop examples</a></li><li><a href=/documentation/examples/workshop_examples_continued.html>Workshop examples continued</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=/quickstart/quickstart.html>Quick start</a><ul class="nav docs-sidenav"><li><a href=/quickstart/quickstart.html>Quick-start</a></li></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>Contents</a></li></ul><nav id=TableOfContents></nav></div><main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role=main><article class=article><div class=docs-article-container><h1>IDL or GDL</h1><div class=article-style><h1 id=using_idl_to_visualise_data>Using IDL to visualise data</h1><p>The EPOCH distribution comes with procedures for loading and inspecting
SDF self-describing data files. The IDL routines are held in the
<code>SDF/IDL/</code> directory. There is also a procedure named
<code>Start.pro</code> in each of the <code>epoch\*d/</code> directories
which is used to set up the IDL environment.</p><p>To load data into IDL, navigate to one of the base directories (eg.
<code>epoch/epoch2d/</code> where <code>epoch/</code> is the directory in which you have
checked out the git repository) and type the following:</p><pre><code>$&amp;gt; idl Start.pro
IDL Version 8.1 (linux x86_64 m64). (c) 2011, ITT Visual Information Solutions
Installation number: .
+Licensed for use by: STAR404570-5University of Warwick
.
% Compiled module: TRACKEX_EVENT.
% Compiled module: ISOPLOT.
% Compiled module: READVAR.
% Compiled module: LOADSDFFILE.
% Compiled module: SDFHANDLEBLOCK.
% Compiled module: SDFGETPLAINMESH.
% Compiled module: SDFGETLAGRANMESH.
% Compiled module: SDFGETPOINTMESH.
% Compiled module: SDFGETPLAINVAR.
% Compiled module: SDFGETPOINTVAR.
% Compiled module: SDFGETCONSTANT.
% Compiled module: SDFCHECKNAME.
% Compiled module: INIT_SDFHELP.
% Compiled module: GETDATA.
% Compiled module: GETSTRUCT.
% Compiled module: EXPLORE_DATA.
% Compiled module: EXPLORE_STRUCT.
% Compiled module: LIST_VARIABLES.
% Compiled module: QUICK_VIEW.
% Compiled module: GET_WKDIR.
% Compiled module: SET_WKDIR.
% Compiled module: INIT_STARTPIC.
% Compiled module: INIT_WIDGET.
% Compiled module: GENERATE_FILENAME.
% Compiled module: COUNT_FILES.
% Compiled module: LOAD_RAW.
% Compiled module: GET_SDF_METATEXT.
% Compiled module: VIEWER_EVENT_HANDLER.
% Compiled module: EXPLORER_EVENT_HANDLER.
% Compiled module: XLOADCT_CALLBACK.
% Compiled module: LOAD_DATA.
% Compiled module: DRAW_IMAGE.
% Compiled module: LOAD_META_AND_POPULATE_SDF.
% Compiled module: CLEAR_DRAW_SURFACE.
% Compiled module: SDF_EXPLORER.
% Compiled module: EXPLORER_LOAD_NEW_FILE.
% Compiled module: CREATE_SDF_VISUALIZER.
% Compiled module: VIEWER_LOAD_NEW_FILE.
% LOADCT: Loading table RED TEMPERATURE
IDL&amp;gt; 
</code></pre><p>This starts up the IDL interpreter and loads in all of the libraries for
loading and inspecting SDF files.</p><p>We begin by inspecting SDF file contents and finding out what variables
it contains. To do this we execute the <strong>list variables</strong> procedure call
which is provided by the EPOCH IDL library.</p><p>At each timestep for which EPOCH is instructed to dump a set of
variables a new data file is created. These files take the form
<em>0000.sdf</em>. For each new dump the number is incremented. The procedure
call accepts up to two arguments. The first argument is mandatory and
specifies the number of the SDF file to be read in. This argument can be
any integer from 0 to 9999. It is padded with zeros and the suffix
&lsquo;.sdf&rsquo; appended to the end to give the name of the data file. eg. 99 â‡’
&lsquo;0099.sdf&rsquo;. The next arguments is optional. The keyword <strong>wkdir</strong>
specifies the directory in which the data files are located. If this
argument is omitted then the currently defined global default is used.
Initially, this takes the value <strong>Data</strong> but this can be changed using
the <strong>set_wkdir</strong> procedure and queried using the <strong>get_wkdir()</strong>
function.</p><pre><code>IDL&amp;gt; list_variables,0,&amp;quot;Data&amp;quot;
Available elements are
1) EX (ELECTRIC_FIELD) : 2D Plain variable
2) EY (ELECTRIC_FIELD) : 2D Plain variable
3) EZ (ELECTRIC_FIELD) : 2D Plain variable
4) BX (MAGNETIC_FIELD) : 2D Plain variable
5) BY (MAGNETIC_FIELD) : 2D Plain variable
6) BZ (MAGNETIC_FIELD) : 2D Plain variable
7) JX (CURRENT) : 2D Plain variable
8) JY (CURRENT) : 2D Plain variable
9) JZ (CURRENT) : 2D Plain variable
10) WEIGHT_ELECTRON (PARTICLES) : 1D Point variable
11) WEIGHT_PROTON (PARTICLES) : 1D Point variable
12) PX_ELECTRON (PARTICLES) : 1D Point variable
13) PX_PROTON (PARTICLES) : 1D Point variable
14) GRID_ELECTRON (GRID) : 2D Point mesh
15) GRID_PROTON (GRID) : 2D Point mesh
16) EKBAR (DERIVED) : 2D Plain variable
17) EKBAR_ELECTRON (DERIVED) : 2D Plain variable
18) EKBAR_PROTON (DERIVED) : 2D Plain variable
19) CHARGE_DENSITY (DERIVED) : 2D Plain variable
20) NUMBER_DENSITY (DERIVED) : 2D Plain variable
21) NUMBER_DENSITY_ELECTRON (DERIVED) : 2D Plain variable
22) NUMBER_DENSITY_PROTON (DERIVED) : 2D Plain variable
23) GRID (GRID) : 2D Plain mesh
24) GRID_EN_ELECTRON (GRID) : 1D Plain mesh
25) EN_ELECTRON (DIST_FN) : 3D Plain variable
26) GRID_X_EN_ELECTRON (GRID) : 2D Plain mesh
27) X_EN_ELECTRON (DIST_FN) : 3D Plain variable
28) GRID_X_PX_ELECTRON (GRID) : 2D Plain mesh
29) X_PX_ELECTRON (DIST_FN) : 3D Plain variable
IDL&amp;gt;
</code></pre><p>Each variable in the SDF self-describing file format is assigned a name
and a class as well as being defined by a given variable type. The
&ldquo;list_variables&rdquo; procedure prints out the variable name
followed by the variable&rsquo;s class in parenthesis. Following the colon is
a description of the variable type.</p><p>To retrieve the data, you must use the <strong>getdata()</strong> function call. The
function must be passed a snapshot number, either as the first argument
or as a keyword parameter &ldquo;snapshot&rdquo;. It also accepts the wkdir as
either the second argument or the keyword parameter &ldquo;wkdir&rdquo;. If it is
omitted altogether, the current global default is used. Finally, it
accepts a list of variables or class of variables to load. Since it is a
function, the result must be assigned to a variable. The object returned
is an IDL data structure containing a list of named variables.</p><p>To load either a specific variable or a class of variables, specify the
name prefixed by a forward slash. It should be noted here that the IDL
scripting language is not case sensitive so $P_x$ can be specified as
either &ldquo;/Px&rdquo; or &ldquo;/px&rdquo;.</p><p>We will now load and inspect the &ldquo;Grid&rdquo; class, this time omitting the
optional &ldquo;wkdir&rdquo; parameter. This time we will load from the third dump
file generated by the EPOCH run, which is found in the file <em>0002.sdf</em>
since the dump files are numbered starting from zero.</p><h1 id=inspecting_data>Inspecting Data</h1><pre><code>IDL&amp;gt; gridclass = getdata(1,/grid)

IDL&amp;gt; help,gridclass,/structures
** Structure &amp;lt;22806408&amp;gt;, 11 tags, length=536825024, data length=536825016, refs=1:
   FILENAME        STRING    'Data/0001.sdf'
   TIMESTEP        LONG                43
   TIME            DOUBLE       5.0705572e-15
   GRID_ELECTRON   STRUCT    -&amp;gt; &amp;lt;Anonymous&amp;gt; Array[1]
   GRID_PROTON     STRUCT    -&amp;gt; &amp;lt;Anonymous&amp;gt; Array[1]
   GRID            STRUCT    -&amp;gt; &amp;lt;Anonymous&amp;gt; Array[1]
   X               DOUBLE    Array[1024]
   Y               DOUBLE    Array[512]
   GRID_EN_ELECTRON
                   STRUCT    -&amp;gt; &amp;lt;Anonymous&amp;gt; Array[1]
   GRID_X_EN_ELECTRON
                   STRUCT    -&amp;gt; &amp;lt;Anonymous&amp;gt; Array[1]
   GRID_X_PX_ELECTRON
                   STRUCT    -&amp;gt; &amp;lt;Anonymous&amp;gt; Array[1]
IDL&amp;gt; help,gridclass.grid,/structures
** Structure &amp;lt;1701168&amp;gt;, 5 tags, length=12376, data length=12376, refs=2:
   X               DOUBLE    Array[1025]
   Y               DOUBLE    Array[513]
   LABELS          STRING    Array[2]
   UNITS           STRING    Array[2]
   NPTS            LONG      Array[2]
</code></pre><p>Here we have used IDL&rsquo;s built in &ldquo;help&rdquo; routine and passed the
&ldquo;/structures&rdquo; keyword which prints information about a structure&rsquo;s
contents rather than just the structure itself.</p><p>Since &ldquo;Grid&rdquo; is a class name, all variables of that class have been
loaded into the returned data structure. It is a nested type so many of
the variables returned are structures themselves and those variables may
contain structures of their own.</p><p>The &ldquo;Grid&rdquo; variable itself contains x" and &ldquo;y&rdquo; arrays containing the $x$
and $y$ coordinates of the 2D cartesian grid. The other variables in
&ldquo;Grid&rdquo; the structure are metadata used to identify the type and
properties of the variable. In order to access the &ldquo;Grid&rdquo; variable
contained within the &ldquo;gridclass&rdquo; data structure we have used the &ldquo;.&rdquo;
operator. In a similar way, we would access the &ldquo;x&rdquo; array contained
within the &ldquo;Grid&rdquo; variable using the identifier &ldquo;gridclass.grid.x&rdquo;.</p><h1 id=getting_help_in_idl>Getting Help in IDL</h1><p>IDL is a fairly sophisticated scripting environment with a large library
of tools for manipulating data. Fortunately, it comes with a fairly
comprehensive array of documentation. This can be accessed by typing
<strong>?</strong> at the IDL prompt.</p><pre><code>IDL&amp;gt; ?
% ONLINE_HELP: Starting the online help browser.
IDL&amp;gt;
</code></pre><p><img src=Idl_help.png alt="The IDL help browser"></p><p>The documentation is divided into books aimed at users or developers and
is fully searchable and cross indexed.</p><h1 id=manipulating_and_plotting_data>Manipulating And Plotting Data</h1><p>Once the data has been loaded from the SDF file we will want to extract
the specific data we wish to analyse, perhaps perform some mathematical
operations on it and then plot the results.</p><p>To do this we must learn a few basic essentials about the IDL scripting
language. Since we are all familiar with the basic concepts shared by
all computer programming languages, I will just provide a brief overview
of the essentials and leave other details to the excellent on-line
documentation.</p><p>IDL supports multidimensional arrays similar to those found in the
FORTRAN programming language. Whole array operations are supported such
as &ldquo;5*array&rdquo; to multiply every element of &ldquo;array&rdquo; by 5. Also matrix
operations such as addition and multiplication are supported.</p><p>The preferred method for indexing arrays is to use brackets. It is
possible to use parenthesis instead but this usage is deprecated. Column
ordering is the same as that used by FORTRAN, so to access the
$(i,j,k)$th element of an array you would use &ldquo;array[i,j,k]&rdquo;. IDL
arrays also support ranges so &ldquo;array[5:10,3,4]&rdquo; will return a one
dimensional array with five elements. &ldquo;array[5:*]&rdquo; specifies elements
five to $n$ of an $n$ element array. &ldquo;array[*,3]&rdquo; picks out the third
row of an array.</p><p>There are also a wide range of routines for querying and transforming
arrays of data. For example, finding minimum and maximum values,
performing FFTs, etc. These details can all be found by searching the
on-line documentation.</p><p>Finally, IDL is a full programming language so you can write your own
functions and procedures for processing the data to suit your needs.</p><h1 id=d_plotting_in_idl>1D Plotting in IDL</h1><p>The most commonly performed plot and perhaps the most useful data
analysis tool is the 1D plot. In IDL, this is performed by issuing the
command <strong>plot,x,y</strong> where &ldquo;x&rdquo; and &ldquo;y&rdquo; are one dimensional arrays of
equal length. For each element &ldquo;x[i]&rdquo; plotted on the $x$-axis the
corresponding value &ldquo;y[i]&rdquo; is plotted along the $y$-axis. As a simple
example:</p><pre><code>IDL&amp;gt; plot,[1,2,3],[2,2,5]
</code></pre><p>Gives rise to the following plot:</p><p><img src=Idl_simple_plot.png alt="A simple IDL plot"></p><p>As a more concrete example, we will now take a one-dimensional slice
through the 2D array &ldquo;Number Density&rdquo; read in from our SDF data file. In
this example we will give the $x$ and $y$ axes labels by passing extra
parameters to the &ldquo;plot&rdquo; routine. A full list of parameters can be found
in the on-line documentation. In this example we also make use of the
&ldquo;$&rdquo; symbol which is IDL&rsquo;s line continuation character.</p><pre><code>IDL&amp;gt; data = getdata(0)
IDL&amp;gt; plot,data.x,data.number_density[*,256],xtitle='x', $
IDL&amp;gt;    ytitle='number density'
</code></pre><p>This command generates the following plot:</p><p><img src=Idl_plot.png alt="A slice of a 2D array"></p><h1 id=postscript_plots>Postscript Plots</h1><p>The plots shown so far have just been screen-shots of the interactive
IDL plotting window. These are fairly low quality and could included as
figures in a paper.</p><p>In order to generate publication quality plots, we must output to the
postscript device. IDL maintains a graphics context which is set using
<strong>set plot</strong> the command. The two most commonly used output devices are
&ldquo;x&rdquo; which denotes the X-server and &ldquo;ps&rdquo; which is the postscript device.
Once the desired device has been selected, various attributes of its
behaviour can be altered using the <strong>device</strong> procedure. For example, we
can set the output file to use for the postscript plot. By default, a
file with the name &ldquo;idl.ps&rdquo; is used.</p><p>Note that this file is not fully written until the postscript device is
closed using the <strong>device,/close</strong> command. When we have finished our
plot we can resume plotting to screen by setting the device back to &ldquo;x&rdquo;.</p><pre><code>IDL&amp;gt; set_plot,'ps'
IDL&amp;gt; device,filename='out.ps'
IDL&amp;gt; plot,data.x,data.number_density[*,256],xtitle='x', $
IDL&amp;gt;    ytitle='number density',charsize=1.5
IDL&amp;gt; device,/close
IDL&amp;gt; set_plot,'x'
</code></pre><p>This set of commands results in the following plot being written to a
file named &ldquo;out.ps&rdquo;.</p><p><img src=Idl_ps_plot.png alt="A simple PS plot"></p><p>By default, IDL draws its own set of fonts called &ldquo;Hershey vector
fonts&rdquo;. Much better looking results can be obtained by using a
postscript font instead. These options are passed as parameters to the
<strong>device</strong> procedure. More details can be found in the on-line
documentation under &ldquo;Reference Guides $\Rightarrow$ IDL Reference Guide
$\Rightarrow$ Appendices $\Rightarrow$ Fonts&rdquo;.</p><h1 id=contour_plots_in_idl>Contour Plots in IDL</h1><p>Whilst 1D plots are excellent tools for quantitive analysis of data, we
can often get a better qualitative overview of the data using 2D or 3D
plots.</p><p>One commonly used plot for 2D is the contour plot. The aptly named
<strong>contour,z,x,y</strong> procedure takes a 2D array of data values, &ldquo;z&rdquo;, and
plots them against $x$ and $y$ axes which are specified in the 1D &ldquo;x&rdquo;
and &ldquo;y&rdquo; arrays. The number of contour lines to plot is specified by the
&ldquo;nlevels&rdquo; parameter. If the &ldquo;/fill&rdquo; parameter is used then IDL will fill
each contour level with a solid colour rather than just drawing a line
at the contour value.</p><p>The example given below plots a huge number of levels so that a smooth
looking plot is produced. &ldquo;xstyle=1&rdquo; requests that the $x$ axes drawn
exactly matches the data in the variable rather than just using a nearby
rounded value and similarly for &ldquo;ystyle=1&rdquo;.</p><pre><code>IDL&amp;gt; n=100
IDL&amp;gt; levels=max(data.number_density)*findgen(n)/(n-1)
IDL&amp;gt; colors=253.*findgen(n)/(n-1)+1
IDL&amp;gt; contour,data.number_density,data.x,data.y,xstyle=1,ystyle=1, $
IDL&amp;gt;    levels=levels,/fill,c_colors=colors 
</code></pre><p>Issuing these commands gives us the contour plot shown below. Note that
the colour table used is not the default one but has been constructed to
be similar to the one used by VisIt.</p><p><img src=Idl_contour.png alt="A simple contour plot"></p><h1 id=shaded_surface_plots_in_idl>Shaded Surface Plots in IDL</h1><p>Another method for visualising 2D datasets is to produce a 3D plot in
which the data is elevated in the $z$ direction by a height proportional
to its value. IDL has two versions of the surface plot. <strong>surface</strong>
produces a wireframe plot and <strong>shade surf</strong> produces a filled and
shaded one. As we can see from the following example, many of IDL&rsquo;s
plotting routines accept the same parameters and keywords.</p><p>The first command shown here, <strong>loadct,3</strong>, asks IDL to load the third
colour table which is"RED_TEMPERATURE".</p><pre><code>IDL&amp;gt; loadct,3
IDL&amp;gt; shade_surf,data.number_density,data.x,data.y,xstyle=1, $
IDL&amp;gt;    ystyle=1,xtitle='x',ytitle='y',ztitle='number density',charsize=3
</code></pre><p><img src=Idl_shade_surf.png alt="A shaded surface plot"></p><h1 id=interactive_plotting>Interactive Plotting</h1><p>Finally, in recent versions of IDL (not GDL) it is now possible to
perform all of these plot types in an interactive graphical user
interface. The corresponding procedures are launched with the commands
<strong>iplot</strong>, <strong>icontour</strong> and <strong>isurface</strong>.</p><pre><code>IDL&amp;gt; iplot,data.x,data.number_density[*,256]
</code></pre><p><img src=Idl_iplot.png alt="Interactive plotting"></p><p>IDL is an extremely useful tool but it also comes with a fairly hefty
price tag. If you are not part of an organisation that will buy it for
you then you may wish to look into a free alternative. It is also a
proprietary tool and you may not wish to work within the restrictions
that this imposes.</p><p>There are a number of free tools available which offer similar
functionality to that of IDL, occasionally producing superior results.</p><p>For a simple drop-in replacement, the GDL project aims to be fully
compatible and works with the existing EPOCH IDL libraries after a
couple of small changes. Other tools worth investigating are
<em><code>"yorick"</code></em> and <em><code>"python"</code></em> with the
<em><code>"SciPy"</code></em> libraries. The python SDF reader documentation
will be added soon. At present there is no SDF reader for yorick but one
may be developed if there is sufficient demand.</p></div><div class=article-widget><div class=post-nav><div class=post-nav-item><div class=meta-nav>Next</div><a href=/documentation/visualising_output/visualising_sdf_files_with_llnl_visit.html rel=prev>LLNL VisIt</a></div></div></div></div><div class=body-footer><p>Last updated on Jun 22, 2021</p></div></article><footer class=site-footer><p class=powered-by>Powered by the
<a href=https://sourcethemes.com/academic/ target=_blank rel=noopener>Academic theme</a> for
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a>.</p></footer></main></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin=anonymous></script><script>const code_highlighting=!0</script><script>const isSiteThemeDark=!1</script><script>const search_config={indexURI:"/index.json",minLength:1,threshold:.3},i18n={no_results:"No results found",placeholder:"Search...",results:"results found"},content_type={post:"Posts",project:"Projects",publication:"Publications",talk:"Talks"}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin=anonymous></script><script>anchors.add()</script><script id=search-hit-fuse-template type=text/x-template>
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script><script src=/js/academic.min.6f1005d1a84220e2f466ff3d8e712f31.js></script><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i> Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i> Download</a><div id=modal-error></div></div></div></div></div></body></html>