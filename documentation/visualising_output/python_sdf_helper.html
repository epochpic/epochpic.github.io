<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic 4.8.0"><meta name=description content="Installing the python read via pip (#install_using_pip) The simplest way to read sdf files in python is to use the sdfr package, available via pip:
pip install sdfr
 [!IMPORTANT] Note the name of the required package is sdfr."><link rel=alternate hreflang=en-us href=/documentation/visualising_output/python_sdf_helper.html><meta name=theme-color content="#3f51b5"><script src=/js/mathjax-config.js></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark disabled><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin=anonymous async></script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js integrity crossorigin=anonymous async></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap"><link rel=stylesheet href=/css/academic.css><link rel=manifest href=/index.webmanifest><link rel=icon type=image/png href=/images/icon_hucf2a1ead28adac6bbe3177e5d4e4a1f0_753_32x32_fill_lanczos_center_2.png><link rel=apple-touch-icon type=image/png href=/images/icon_hucf2a1ead28adac6bbe3177e5d4e4a1f0_753_192x192_fill_lanczos_center_2.png><link rel=canonical href=/documentation/visualising_output/python_sdf_helper.html><meta property="twitter:card" content="summary"><meta property="og:site_name" content="EPOCH"><meta property="og:url" content="/documentation/visualising_output/python_sdf_helper.html"><meta property="og:title" content="Python sdf_helper | EPOCH"><meta property="og:description" content="Installing the python read via pip (#install_using_pip) The simplest way to read sdf files in python is to use the sdfr package, available via pip:
pip install sdfr
 [!IMPORTANT] Note the name of the required package is sdfr."><meta property="og:image" content="/images/logo_hub4b4d6a0f57638acebb5550a80c8c030_9243_300x300_fit_lanczos_2.png"><meta property="twitter:image" content="/images/logo_hub4b4d6a0f57638acebb5550a80c8c030_9243_300x300_fit_lanczos_2.png"><meta property="og:locale" content="en-us"><meta property="article:modified_time" content="2025-07-24T18:45:33+01:00"><title>Python sdf_helper | EPOCH</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/><img src=/images/logo_hub4b4d6a0f57638acebb5550a80c8c030_9243_0x70_resize_lanczos_2.png alt=EPOCH></a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/><img src=/images/logo_hub4b4d6a0f57638acebb5550a80c8c030_9243_0x70_resize_lanczos_2.png alt=EPOCH></a></div><div class="navbar-collapse main-menu-item collapse justify-content-end" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/#about><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/quickstart.html><span>Quick Start</span></a></li><li class=nav-item><a class=nav-link href=/documentation.html><span>User Guide</span></a></li><li class=nav-item><a class=nav-link href=/developer.html><span>Dev Guide</span></a></li><li class=nav-item><a class=nav-link href=/publication.html><span>Publications</span></a></li><li class=nav-item><a class=nav-link href=/license.html><span>License</span></a></li><li class=nav-item><a class=nav-link href=/contact.html><span>Contact</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=#><i class="fas fa-search" aria-hidden=true></i></a></li></ul></div></nav><div class="container-fluid docs"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 docs-sidebar"><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-3" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation">
<span><i class="fas fa-bars"></i></span></button>
<input name=q type=search class=form-control placeholder=Search... autocomplete=off></form><nav class="collapse docs-links" id=docs-nav><div class=docs-toc-item><a class=docs-toc-link href=/documentation.html>Overview</a></div><div class=docs-toc-item><a class=docs-toc-link href=/documentation/basic_usage.html>Basic usage</a><ul class="nav docs-sidenav"><li><a href=/documentation/basic_usage/faq.html>FAQs</a></li><li><a href=/documentation/basic_usage/structure.html>Structure</a></li><li><a href=/documentation/basic_usage/compiling.html>Compiling</a></li><li><a href=/documentation/basic_usage/compiler_flags.html>Compiler Flags</a></li><li><a href=/documentation/basic_usage/running.html>Running</a></li><li><a href=/documentation/basic_usage/acknowledging_epoch.html>Acknowledging EPOCH</a></li><li><a href=/documentation/basic_usage/libraries.html>Libraries</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=/documentation/input_deck/input_deck.html>Input deck</a><ul class="nav docs-sidenav"><li><a href=/documentation/input_deck/input_deck_antenna.html>Antenna block</a></li><li><a href=/documentation/input_deck/input_deck_boundaries.html>Boundaries block</a></li><li><a href=/documentation/input_deck/input_deck_bremsstrahlung.html>Bremsstrahlung block</a></li><li><a href=/documentation/input_deck/input_deck_collisions.html>Collisions block</a></li><li><a href=/documentation/input_deck/input_deck_constant.html>Constant block</a></li><li><a href=/documentation/input_deck/input_deck_control.html>Control block</a></li><li><a href=/documentation/input_deck/input_deck_dist_fn.html>Dist_fn block</a></li><li><a href=/documentation/input_deck/input_deck_fields.html>Fields block</a></li><li><a href=/documentation/input_deck/input_deck_injector.html>Injector block</a></li><li><a href=/documentation/input_deck/input_deck_laser.html>Laser block</a></li><li><a href=/documentation/input_deck/input_deck_output_block.html>Output block</a></li><li><a href=/documentation/input_deck/input_deck_output_global.html>Output_global block</a></li><li><a href=/documentation/input_deck/input_deck_particle_file.html>Particles_from_file block</a></li><li><a href=/documentation/input_deck/input_deck_probe.html>Probe block</a></li><li><a href=/documentation/input_deck/input_deck_qed.html>QED block</a></li><li><a href=/documentation/input_deck/input_deck_species.html>Species block</a></li><li><a href=/documentation/input_deck/input_deck_subset.html>Subset block</a></li><li><a href=/documentation/input_deck/input_deck_window.html>Window block</a></li><li><a href=/documentation/input_deck/binary_files.html>Binary files</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=/documentation/code_details.html>Code details</a><ul class="nav docs-sidenav"><li><a href=/documentation/code_details/maths_parser.html>Maths parser</a></li><li><a href=/documentation/code_details/using_epoch_in_practice.html>Using EPOCH in practice</a></li><li><a href=/documentation/code_details/using_delta_f.html>Using delta f</a></li><li><a href=/documentation/code_details/previous_versions.html>Previous versions</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=/documentation/visualising_output.html>Visualising output</a><ul class="nav docs-sidenav"><li><a href=/documentation/visualising_output/visualising_sdf_files_with_idl_or_gdl.html>IDL or GDL</a></li><li><a href=/documentation/visualising_output/visualising_sdf_files_with_llnl_visit.html>LLNL VisIt</a></li><li><a href=/documentation/visualising_output/python_beam.html>Python BEAM</a></li><li class=active><a href=/documentation/visualising_output/python_sdf_helper.html>Python sdf_helper</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=/documentation/examples.html>Examples</a><ul class="nav docs-sidenav"><li><a href=/documentation/examples/basic_examples.html>Basic examples</a></li><li><a href=/documentation/examples/workshop_examples.html>Workshop examples</a></li><li><a href=/documentation/examples/workshop_examples_continued.html>Workshop examples continued</a></li></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>Contents</a></li></ul><nav id=TableOfContents><ul><li><ul><li><a href=#importing_sdf_helper>Importing sdf_helper</a></li><li><a href=#loading_an_sdf_file_using_sdf_helper>Loading an sdf file using sdf_helper</a></li><li><a href=#listing_the_available_variables_in_an_sdf_file>Listing the available variables in an sdf file</a></li><li><a href=#working_with_the_data_in_an_sdf_file>Working with the data in an SDF file</a></li><li><a href=#plotting_using_sdf_helper>Plotting using sdf_helper</a></li><li><a href=#changing_colour_tables>Changing colour tables</a></li><li><a href=#some_bugs_in_matplotlib>Some bugs in matplotlib</a></li></ul></li></ul><ul><li><ul><li><a href=#the_sdf>The sdf.BlockList object</a></li><li><a href=#the_sdf>The sdf.BlockPlainVariable object</a></li><li><a href=#the_sdf>The sdf.BlockPlainMesh object</a></li><li><a href=#plotting_a_variable_using_raw_sdf_and_raw_matplotlib>Plotting a variable using raw SDF and raw matplotlib</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role=main><article class=article><div class=docs-article-container><h1>Python sdf_helper</h1><div class=article-style><h1 id=installing-the-python-read-via-pip-install_using_pip>Installing the python read via pip (#install_using_pip)</h1><p>The simplest way to read sdf files in python is to use the
<a href=https://pypi.org/project/sdfr/ target=_blank rel=noopener>sdfr package</a>, available via pip:</p><p><code>pip install sdfr</code></p><blockquote><p>[!IMPORTANT]
Note the name of the required package is sdfr.
The similarly named sdf package is unrelated to EPOCH.</p></blockquote><h1 id=building_the_python_sdf_readers>Building the python sdf readers</h1><p>To install the python sdf readers you need to have an installation of
python (2 or 3) with the numpy library. The automated plotting library
requires the matplotlib library. Both numpy and matplotlib are available
through most system package managers or are installable through
<a href=https://pip.pypa.io/en/stable/ target=_blank rel=noopener>pip</a>.</p><p>Once you have a working python install, just go into one of the epoch
directories (epoch1d, epoch2d or epoch3d) and type</p><p><code>make sdfutils</code></p><p>This will build the SDF python library and install the sdf_helper
wrapper and utility layer.</p><h1 id=using_the_sdf_helper_wrapper_layer>Using the sdf_helper wrapper layer</h1><p>The low level python SDF library is not user friendly, so a wrapper
layer called sdf_helper has been written. This wrapper layer simplifies
loading SDF files and provides simple plotting routines using
matplotlib.</p><h3 id=importing_sdf_helper>Importing sdf_helper</h3><p>Importing sdf_helper is as simple as</p><pre><code class=language-python>import sdf_helper
</code></pre><p>In these examples, the numpy and matplotlib libraries are usually loaded
too, and an alias is created for sdf_helper, so the boilerplate code
looks like</p><pre><code class=language-python>import sdf_helper as sh
import numpy as np
import matplotlib.pyplot as plt
</code></pre><h3 id=loading_an_sdf_file_using_sdf_helper>Loading an sdf file using sdf_helper</h3><p>To load a file, use the <code>getdata</code> function. This function takes either a
string which it loads as a filename, so to load the file <code>Data/0010.df</code>
you would run</p><pre><code class=language-python>import sdf_helper as sh
data=sh.getdata('Data/0010.sdf')
</code></pre><p>or it takes a number which is the dump number, and optionally a second
parameter which is the directory name as a string, so you would run</p><pre><code class=language-python>import sdf_helper as sh
data=sh.getdata(10, 'Data')
</code></pre><p>Because memory is only allocated when needed in the SDF python reader
there is no way of specifying which variables to load using getdata. All
variables are available when the file is first loaded, and memory is
allocated when the variable is first used.</p><h3 id=listing_the_available_variables_in_an_sdf_file>Listing the available variables in an sdf file</h3><p>To see what variables are available use the list_variables method</p><pre><code class=language-python>import sdf_helper as sh
data=sh.getdata('Data/0010.sdf')
sh.list_variables(data)
</code></pre><p>This produces an output that looks something like</p><pre><code class=language-text>CPUs_Current_rank &lt;class 'sdf.BlockPlainVariable'&gt; [0]
CPUs_Original_rank &lt;class 'sdf.BlockPlainVariable'&gt; [2]
Current_Jx &lt;class 'sdf.BlockPlainVariable'&gt; [400]
Derived_Charge_Density &lt;class 'sdf.BlockPlainVariable'&gt; [400]
Derived_Number_Density &lt;class 'sdf.BlockPlainVariable'&gt; [400]
Derived_Number_Density_Left &lt;class 'sdf.BlockPlainVariable'&gt; [400]
Derived_Number_Density_Right &lt;class 'sdf.BlockPlainVariable'&gt; [400]
Electric_Field_Ex &lt;class 'sdf.BlockPlainVariable'&gt; [400]
Grid_CPUs_Original_rank &lt;class 'sdf.BlockPlainMesh'&gt; [3]
Grid_CPUs_Original_rank_mid &lt;class 'sdf.BlockPlainMesh'&gt; [2]
Grid_Grid &lt;class 'sdf.BlockPlainMesh'&gt; [401]
Grid_Grid_mid &lt;class 'sdf.BlockPlainMesh'&gt; [400]
Grid_x_px_Left &lt;class 'sdf.BlockPlainMesh'&gt; [400, 200]
Grid_x_px_Left_mid &lt;class 'sdf.BlockPlainMesh'&gt; [399, 199]
Grid_x_px_Right &lt;class 'sdf.BlockPlainMesh'&gt; [400, 200]
Grid_x_px_Right_mid &lt;class 'sdf.BlockPlainMesh'&gt; [399, 199]
Wall_time &lt;class 'sdf.BlockConstant'&gt; [1]
dist_fn_x_px_Left &lt;class 'sdf.BlockPlainVariable'&gt; [400, 200]
dist_fn_x_px_Right &lt;class 'sdf.BlockPlainVariable'&gt; [400, 200]
</code></pre><p>These are the names of the variables in the data structure. This example
is taken from the supplied <code>two_stream.deck</code> example in 1D.</p><h3 id=working_with_the_data_in_an_sdf_file>Working with the data in an SDF file</h3><p>You can access the underlying data using the names obtained from
<code>list_variables</code></p><pre><code class=language-python>variable = data.Electric_Field_Ex
</code></pre><p>This returns an instance of either <code>sdf.BlockPlainVariable</code> or
<code>sdf.BlockPointVariable</code> depending on whether you have requested a grid
variable (such as Ex, Ey or a distribution function) or a particle
variable (such as particle momentum or weight). The raw contents of the
variable is a numpy array. It is then available using the <code>data</code> element
of these objects.</p><pre><code class=language-python>import numpy as np
variable = data.Electric_Field_Ex
raw = variable.data
print(type(raw))
print(np.mean(raw))
</code></pre><p>produces the output</p><pre><code class=language-text>&lt;type 'numpy.ndarray'&gt;
-1.27980874427008e-06
</code></pre><h3 id=plotting_using_sdf_helper>Plotting using sdf_helper</h3><p>The sdf_helper wrapper script comes with some plotting routines. They
are incomplete currently, but aim to provide as close as possible to
press ready figures in a single command. You need the <code>matplotlib</code>
library to use these routines, and they are only available for 1D and 2D
data at present. To plot data, simply provide an
<code>sdf.BlockPlainVariable</code> object to the routine <code>plot_auto</code>. An example
of plotting a 1D variable, using the <code>two_stream.deck</code> example deck to
generate the figures would be</p><pre><code class=language-python>import sdf_helper as sh
import matplotlib.pyplot as plt

plt.ion()
data=sh.getdata('Data/0010.sdf')
sh.plot_auto(data.Current_Jx)
</code></pre><p>This will produce a window similar to the image shown here, with slight
difference depending on your version of matplotlib and your operating
system. The code <code>plt.ion()</code> sets matplotlib to interactive mode, so
control will be returned to you as soon as the plot has finished
drawing.</p><p><a href=Matplotlib1D_screenshot.png>Example 1D plot generated by sdf_helper.plot_auto</a></p><p>Plotting a 2D function is the same basic idea, and the code</p><pre><code class=language-python>import sdf_helper as sh
import matplotlib.pyplot as plt

plt.ion()
data=sh.getdata('Data/0010.sdf')
sh.plot_auto(data.dist_fn_x_px_Right, iso=0)
</code></pre><p><img src=Matplotlib2D.png alt=" thumb \| 200px \| Example 2D plot generated bysdf_helper.plot_auto"></p><p>will produce the figure on the right. The procedure for variables from
EPOCH2D data is exactly the same.</p><h3 id=changing_colour_tables>Changing colour tables</h3><p>The easiest solution to changing colour tables is to set the global
colour table. This is done by</p><pre><code class=language-python>import matplotlib.pyplot as plt
plt.set_cmap(tablename)
</code></pre><p>where <code>tablename</code> is a string describing the colour table to be used.
The available strings are given
<a href=http://matplotlib.org/users/colormaps.html target=_blank rel=noopener>here</a></p><h3 id=some_bugs_in_matplotlib>Some bugs in matplotlib</h3><p>There are some bugs in matplotlib which can mean that sometimes the 2D
images don&rsquo;t render properly. If you get incorrect rendering, please
try updating matplotlib to the latest version for your platform. If that
doesn&rsquo;t work then pass the parameter <code>compatibility=True</code> to the
<code>plot_auto</code> routine. This may make the plot slightly less pretty, but
tends to work on more platforms.</p><h1 id=core_python_library>Core Python library</h1><p>The SDF python reader allows you to read any SDF file and access any
information within the file. It has very few user friendly features to
assist working with the files. Some of the methods listed in the section
on sdf_helper (notably list_variables) are not available when using
the core library. Loading an sdf file with the core library has the
following syntax</p><pre><code class=language-python>import sdf
data=sdf.read(filename)
</code></pre><p>where filename is a string containing the name of the file to be loaded.
This returns an sdf.BlockList object</p><h3 id=the_sdf class=blocklist_object>The sdf.BlockList object</h3><p>The <code>list_variables</code> routine is added by the sdf_helper wrapper, but
you can check what elements are in the file by simply typing</p><pre><code class=language-python>data.__dict__
</code></pre><p>Which will produce an output like the following example from EPOCH2D</p><p><code>{'Header': {'filename': '/Users/phsiav/dev/epoch/epoch2d/Data/0005.sdf', 'file_version': 1, 'file_revision': 4, 'code_name': 'Epoch2d', 'step': 53, 'time': 2.5293132385759517e-14, 'jobid1': 1552896563, 'jobid2': 376, 'code_io_version': 1, 'restart_flag': False, 'other_domains': False, 'station_file': False}, 'Wall_time': &lt;sdf.BlockConstant object at 0x11a012318>, 'Electric_Field_Ex': &lt;sdf.BlockPlainVariable object at 0x11a012220>, 'Electric_Field_Ey': &lt;sdf.BlockPlainVariable object at 0x11a012128>, 'Electric_Field_Ez': &lt;sdf.BlockPlainVariable object at 0x11a012030>, 'Magnetic_Field_Bx': &lt;sdf.BlockPlainVariable object at 0x117b2ceb8>, 'Magnetic_Field_By': &lt;sdf.BlockPlainVariable object at 0x117b2cdc0>, 'Magnetic_Field_Bz': &lt;sdf.BlockPlainVariable object at 0x117b2ccc8>, 'Grid_Grid': &lt;sdf.BlockPlainMesh object at 0x117b2cbd0>, 'Grid_Grid_mid': &lt;sdf.BlockPlainMesh object at 0x117b2cad8>, 'Grid_CPUs_Original_rank': &lt;sdf.BlockPlainMesh object at 0x117b2c9e0>, 'Grid_CPUs_Original_rank_mid': &lt;sdf.BlockPlainMesh object at 0x117b2c8e8>, 'CPUs_Original_rank': &lt;sdf.BlockPlainVariable object at 0x117b2c7f0>, 'CPUs_Current_rank': &lt;sdf.BlockPlainVariable object at 0x11a015128>}</code></p><h3 id=the_sdf class=blockplainvariable_object>The sdf.BlockPlainVariable object</h3><p>These objects represent the variables in the SDF file. It does not fully
implement the <strong>dict</strong> property, so to inspect it&rsquo;s contents you
must use</p><pre><code class=language-python>dir(data.Electric_Field_Ey)
</code></pre><p>which produces an output like</p><p><code>['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', 'blocklist', 'data', 'data_length', 'datatype', 'dims', 'grid', 'grid_id', 'grid_mid', 'id', 'mult', 'name', 'stagger', 'units']</code></p><p>The key elements are <code>data</code> which contains the raw data for the variable
stored as a numpy array, <code>dims</code> which is an array containing the number
of elements in each dimension of the array and <code>grid</code> and <code>grid_mid</code>
which refer to <code>sdf.BlockPlainMesh <code>objects that represent the
grid axes that the variable is to be plotted against. Grid and grid_mid
do similar but different things. Grid is an array of points
corresponding to the edges of the computational cells, grid_mid to the
midpoints. This means that all of the arrays in <code>grid</code> are one element
longer than the arrays in <code>grid_mid</code>. To identify whether to use <code>grid</code>
or <code>grid_mid</code> you must compare the sizes of the variable <code>dims</code> array to
the sizes of the <code>grid</code> and <code>grid_mid</code> sizes and <em>for each axis</em> use
the element of <code>grid</code> or <code>grid_mid</code> that has the same number of
elements.</p><p>Important note! - 2D SDF data is loaded into Python rotated by 90
degrees compared to the original Fortran code that generated it.</p><h3 id=the_sdf class=blockplainmesh_object>The sdf.BlockPlainMesh object</h3><p>Once again you have to use the <code>dir</code> command to output the information
about an sdf.BlockPlainMesh object, for example in EPOCH</p><pre><code class=language-python>dir(data.Grid_Grid)
</code></pre><p>Which produces output like</p><p><code>['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', 'blocklist', 'data', 'data_length', 'datatype', 'dims', 'extents', 'geometry', 'id', 'labels', 'mult', 'name', 'units']</code></p><p>The important element of this block is <code>data</code> which is a tuple of 1D
numpy arrays corresponding to each coordinate axis of the grid.</p><h3 id=plotting_a_variable_using_raw_sdf_and_raw_matplotlib>Plotting a variable using raw SDF and raw matplotlib</h3><ul><li>Warning - This is not our recommended suggestion for plotting. We
recommend using our helper routines in sdf_helper*</li></ul><pre><code class=language-python>import matplotlib.pyplot as plt
import sdf

data=sdf.read('Data/0005.sdf')
ey = data.Electric_Field_Ey
plt.pcolormesh(ey.grid_mid.data[0], ey.grid_mid.data[1], ey.data.T)
plt.show()
</code></pre></div><div class=article-widget><div class=post-nav><div class=post-nav-item><div class=meta-nav>Previous</div><a href=/documentation/visualising_output/python_beam.html rel=next>Python BEAM</a></div></div></div></div><div class=body-footer><p>Last updated on Jul 24, 2025</p></div></article><footer class=site-footer><p class=powered-by>Powered by the
<a href=https://sourcethemes.com/academic/ target=_blank rel=noopener>Academic theme</a> for
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a>.</p></footer></main></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin=anonymous></script><script>const code_highlighting=!0</script><script>const isSiteThemeDark=!1</script><script>const search_config={indexURI:"/index.json",minLength:1,threshold:.3},i18n={no_results:"No results found",placeholder:"Search...",results:"results found"},content_type={post:"Posts",project:"Projects",publication:"Publications",talk:"Talks"}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin=anonymous></script><script>anchors.add()</script><script id=search-hit-fuse-template type=text/x-template>
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script><script src=/js/academic.min.6f1005d1a84220e2f466ff3d8e712f31.js></script><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i> Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i> Download</a><div id=modal-error></div></div></div></div></div></body></html>